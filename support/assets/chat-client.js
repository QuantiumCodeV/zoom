(function(){var sn;"use strict";var it=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function at(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ct={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(it,function(){var n=1e3,r=6e4,o=36e5,s="millisecond",i="second",a="minute",c="hour",u="day",l="week",d="month",f="quarter",h="year",S="date",M="Invalid Date",I=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,k=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,C={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(v){var y=["th","st","nd","rd"],m=v%100;return"["+v+(y[(m-20)%10]||y[m]||y[0])+"]"}},V=function(v,y,m){var b=String(v);return!b||b.length>=y?v:""+Array(y+1-b.length).join(m)+v},J={s:V,z:function(v){var y=-v.utcOffset(),m=Math.abs(y),b=Math.floor(m/60),p=m%60;return(y<=0?"+":"-")+V(b,2,"0")+":"+V(p,2,"0")},m:function v(y,m){if(y.date()<m.date())return-v(m,y);var b=12*(m.year()-y.year())+(m.month()-y.month()),p=y.clone().add(b,d),O=m-p<0,E=y.clone().add(b+(O?-1:1),d);return+(-(b+(m-p)/(O?p-E:E-p))||0)},a:function(v){return v<0?Math.ceil(v)||0:Math.floor(v)},p:function(v){return{M:d,y:h,w:l,d:u,D:S,h:c,m:a,s:i,ms:s,Q:f}[v]||String(v||"").toLowerCase().replace(/s$/,"")},u:function(v){return v===void 0}},N="en",$={};$[N]=C;var w="$isDayjsObject",g=function(v){return v instanceof B||!(!v||!v[w])},D=function v(y,m,b){var p;if(!y)return N;if(typeof y=="string"){var O=y.toLowerCase();$[O]&&(p=O),m&&($[O]=m,p=O);var E=y.split("-");if(!p&&E.length>1)return v(E[0])}else{var A=y.name;$[A]=y,p=A}return!b&&p&&(N=p),p||!b&&N},P=function(v,y){if(g(v))return v.clone();var m=typeof y=="object"?y:{};return m.date=v,m.args=arguments,new B(m)},_=J;_.l=D,_.i=g,_.w=function(v,y){return P(v,{locale:y.$L,utc:y.$u,x:y.$x,$offset:y.$offset})};var B=function(){function v(m){this.$L=D(m.locale,null,!0),this.parse(m),this.$x=this.$x||m.x||{},this[w]=!0}var y=v.prototype;return y.parse=function(m){this.$d=function(b){var p=b.date,O=b.utc;if(p===null)return new Date(NaN);if(_.u(p))return new Date;if(p instanceof Date)return new Date(p);if(typeof p=="string"&&!/Z$/i.test(p)){var E=p.match(I);if(E){var A=E[2]-1||0,R=(E[7]||"0").substring(0,3);return O?new Date(Date.UTC(E[1],A,E[3]||1,E[4]||0,E[5]||0,E[6]||0,R)):new Date(E[1],A,E[3]||1,E[4]||0,E[5]||0,E[6]||0,R)}}return new Date(p)}(m),this.init()},y.init=function(){var m=this.$d;this.$y=m.getFullYear(),this.$M=m.getMonth(),this.$D=m.getDate(),this.$W=m.getDay(),this.$H=m.getHours(),this.$m=m.getMinutes(),this.$s=m.getSeconds(),this.$ms=m.getMilliseconds()},y.$utils=function(){return _},y.isValid=function(){return this.$d.toString()!==M},y.isSame=function(m,b){var p=P(m);return this.startOf(b)<=p&&p<=this.endOf(b)},y.isAfter=function(m,b){return P(m)<this.startOf(b)},y.isBefore=function(m,b){return this.endOf(b)<P(m)},y.$g=function(m,b,p){return _.u(m)?this[b]:this.set(p,m)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(m,b){var p=this,O=!!_.u(b)||b,E=_.p(m),A=function(ue,H){var re=_.w(p.$u?Date.UTC(p.$y,H,ue):new Date(p.$y,H,ue),p);return O?re:re.endOf(u)},R=function(ue,H){return _.w(p.toDate()[ue].apply(p.toDate("s"),(O?[0,0,0,0]:[23,59,59,999]).slice(H)),p)},Z=this.$W,G=this.$M,K=this.$D,pe="set"+(this.$u?"UTC":"");switch(E){case h:return O?A(1,0):A(31,11);case d:return O?A(1,G):A(0,G+1);case l:var ce=this.$locale().weekStart||0,Se=(Z<ce?Z+7:Z)-ce;return A(O?K-Se:K+(6-Se),G);case u:case S:return R(pe+"Hours",0);case c:return R(pe+"Minutes",1);case a:return R(pe+"Seconds",2);case i:return R(pe+"Milliseconds",3);default:return this.clone()}},y.endOf=function(m){return this.startOf(m,!1)},y.$set=function(m,b){var p,O=_.p(m),E="set"+(this.$u?"UTC":""),A=(p={},p[u]=E+"Date",p[S]=E+"Date",p[d]=E+"Month",p[h]=E+"FullYear",p[c]=E+"Hours",p[a]=E+"Minutes",p[i]=E+"Seconds",p[s]=E+"Milliseconds",p)[O],R=O===u?this.$D+(b-this.$W):b;if(O===d||O===h){var Z=this.clone().set(S,1);Z.$d[A](R),Z.init(),this.$d=Z.set(S,Math.min(this.$D,Z.daysInMonth())).$d}else A&&this.$d[A](R);return this.init(),this},y.set=function(m,b){return this.clone().$set(m,b)},y.get=function(m){return this[_.p(m)]()},y.add=function(m,b){var p,O=this;m=Number(m);var E=_.p(b),A=function(G){var K=P(O);return _.w(K.date(K.date()+Math.round(G*m)),O)};if(E===d)return this.set(d,this.$M+m);if(E===h)return this.set(h,this.$y+m);if(E===u)return A(1);if(E===l)return A(7);var R=(p={},p[a]=r,p[c]=o,p[i]=n,p)[E]||1,Z=this.$d.getTime()+m*R;return _.w(Z,this)},y.subtract=function(m,b){return this.add(-1*m,b)},y.format=function(m){var b=this,p=this.$locale();if(!this.isValid())return p.invalidDate||M;var O=m||"YYYY-MM-DDTHH:mm:ssZ",E=_.z(this),A=this.$H,R=this.$m,Z=this.$M,G=p.weekdays,K=p.months,pe=p.meridiem,ce=function(H,re,_e,je){return H&&(H[re]||H(b,O))||_e[re].slice(0,je)},Se=function(H){return _.s(A%12||12,H,"0")},ue=pe||function(H,re,_e){var je=H<12?"AM":"PM";return _e?je.toLowerCase():je};return O.replace(k,function(H,re){return re||function(_e){switch(_e){case"YY":return String(b.$y).slice(-2);case"YYYY":return _.s(b.$y,4,"0");case"M":return Z+1;case"MM":return _.s(Z+1,2,"0");case"MMM":return ce(p.monthsShort,Z,K,3);case"MMMM":return ce(K,Z);case"D":return b.$D;case"DD":return _.s(b.$D,2,"0");case"d":return String(b.$W);case"dd":return ce(p.weekdaysMin,b.$W,G,2);case"ddd":return ce(p.weekdaysShort,b.$W,G,3);case"dddd":return G[b.$W];case"H":return String(A);case"HH":return _.s(A,2,"0");case"h":return Se(1);case"hh":return Se(2);case"a":return ue(A,R,!0);case"A":return ue(A,R,!1);case"m":return String(R);case"mm":return _.s(R,2,"0");case"s":return String(b.$s);case"ss":return _.s(b.$s,2,"0");case"SSS":return _.s(b.$ms,3,"0");case"Z":return E}return null}(H)||E.replace(":","")})},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(m,b,p){var O,E=this,A=_.p(b),R=P(m),Z=(R.utcOffset()-this.utcOffset())*r,G=this-R,K=function(){return _.m(E,R)};switch(A){case h:O=K()/12;break;case d:O=K();break;case f:O=K()/3;break;case l:O=(G-Z)/6048e5;break;case u:O=(G-Z)/864e5;break;case c:O=G/o;break;case a:O=G/r;break;case i:O=G/n;break;default:O=G}return p?O:_.a(O)},y.daysInMonth=function(){return this.endOf(d).$D},y.$locale=function(){return $[this.$L]},y.locale=function(m,b){if(!m)return this.$L;var p=this.clone(),O=D(m,b,!0);return O&&(p.$L=O),p},y.clone=function(){return _.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},v}(),F=B.prototype;return P.prototype=F,[["$ms",s],["$s",i],["$m",a],["$H",c],["$W",u],["$M",d],["$y",h],["$D",S]].forEach(function(v){F[v[1]]=function(y){return this.$g(y,v[0],v[1])}}),P.extend=function(v,y){return v.$i||(v(y,B,P),v.$i=!0),P},P.locale=D,P.isDayjs=g,P.unix=function(v){return P(1e3*v)},P.en=$[N],P.Ls=$,P.p={},P})})(ct);var an=ct.exports;const $e=at(an);var ut={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(it,function(){var n,r,o=1e3,s=6e4,i=36e5,a=864e5,c=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u=31536e6,l=2628e6,d=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,f={years:u,months:l,days:a,hours:i,minutes:s,seconds:o,milliseconds:1,weeks:6048e5},h=function($){return $ instanceof J},S=function($,w,g){return new J($,g,w.$l)},M=function($){return r.p($)+"s"},I=function($){return $<0},k=function($){return I($)?Math.ceil($):Math.floor($)},C=function($){return Math.abs($)},V=function($,w){return $?I($)?{negative:!0,format:""+C($)+w}:{negative:!1,format:""+$+w}:{negative:!1,format:""}},J=function(){function $(g,D,P){var _=this;if(this.$d={},this.$l=P,g===void 0&&(this.$ms=0,this.parseFromMilliseconds()),D)return S(g*f[M(D)],this);if(typeof g=="number")return this.$ms=g,this.parseFromMilliseconds(),this;if(typeof g=="object")return Object.keys(g).forEach(function(v){_.$d[M(v)]=g[v]}),this.calMilliseconds(),this;if(typeof g=="string"){var B=g.match(d);if(B){var F=B.slice(2).map(function(v){return v!=null?Number(v):0});return this.$d.years=F[0],this.$d.months=F[1],this.$d.weeks=F[2],this.$d.days=F[3],this.$d.hours=F[4],this.$d.minutes=F[5],this.$d.seconds=F[6],this.calMilliseconds(),this}}return this}var w=$.prototype;return w.calMilliseconds=function(){var g=this;this.$ms=Object.keys(this.$d).reduce(function(D,P){return D+(g.$d[P]||0)*f[P]},0)},w.parseFromMilliseconds=function(){var g=this.$ms;this.$d.years=k(g/u),g%=u,this.$d.months=k(g/l),g%=l,this.$d.days=k(g/a),g%=a,this.$d.hours=k(g/i),g%=i,this.$d.minutes=k(g/s),g%=s,this.$d.seconds=k(g/o),g%=o,this.$d.milliseconds=g},w.toISOString=function(){var g=V(this.$d.years,"Y"),D=V(this.$d.months,"M"),P=+this.$d.days||0;this.$d.weeks&&(P+=7*this.$d.weeks);var _=V(P,"D"),B=V(this.$d.hours,"H"),F=V(this.$d.minutes,"M"),v=this.$d.seconds||0;this.$d.milliseconds&&(v+=this.$d.milliseconds/1e3,v=Math.round(1e3*v)/1e3);var y=V(v,"S"),m=g.negative||D.negative||_.negative||B.negative||F.negative||y.negative,b=B.format||F.format||y.format?"T":"",p=(m?"-":"")+"P"+g.format+D.format+_.format+b+B.format+F.format+y.format;return p==="P"||p==="-P"?"P0D":p},w.toJSON=function(){return this.toISOString()},w.format=function(g){var D=g||"YYYY-MM-DDTHH:mm:ss",P={Y:this.$d.years,YY:r.s(this.$d.years,2,"0"),YYYY:r.s(this.$d.years,4,"0"),M:this.$d.months,MM:r.s(this.$d.months,2,"0"),D:this.$d.days,DD:r.s(this.$d.days,2,"0"),H:this.$d.hours,HH:r.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:r.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:r.s(this.$d.seconds,2,"0"),SSS:r.s(this.$d.milliseconds,3,"0")};return D.replace(c,function(_,B){return B||String(P[_])})},w.as=function(g){return this.$ms/f[M(g)]},w.get=function(g){var D=this.$ms,P=M(g);return P==="milliseconds"?D%=1e3:D=P==="weeks"?k(D/f[P]):this.$d[P],D||0},w.add=function(g,D,P){var _;return _=D?g*f[M(D)]:h(g)?g.$ms:S(g,this).$ms,S(this.$ms+_*(P?-1:1),this)},w.subtract=function(g,D){return this.add(g,D,!0)},w.locale=function(g){var D=this.clone();return D.$l=g,D},w.clone=function(){return S(this.$ms,this)},w.humanize=function(g){return n().add(this.$ms,"ms").locale(this.$l).fromNow(!g)},w.valueOf=function(){return this.asMilliseconds()},w.milliseconds=function(){return this.get("milliseconds")},w.asMilliseconds=function(){return this.as("milliseconds")},w.seconds=function(){return this.get("seconds")},w.asSeconds=function(){return this.as("seconds")},w.minutes=function(){return this.get("minutes")},w.asMinutes=function(){return this.as("minutes")},w.hours=function(){return this.get("hours")},w.asHours=function(){return this.as("hours")},w.days=function(){return this.get("days")},w.asDays=function(){return this.as("days")},w.weeks=function(){return this.get("weeks")},w.asWeeks=function(){return this.as("weeks")},w.months=function(){return this.get("months")},w.asMonths=function(){return this.as("months")},w.years=function(){return this.get("years")},w.asYears=function(){return this.as("years")},$}(),N=function($,w,g){return $.add(w.years()*g,"y").add(w.months()*g,"M").add(w.days()*g,"d").add(w.hours()*g,"h").add(w.minutes()*g,"m").add(w.seconds()*g,"s").add(w.milliseconds()*g,"ms")};return function($,w,g){n=g,r=g().$utils(),g.duration=function(_,B){var F=g.locale();return S(_,{$l:F},B)},g.isDuration=h;var D=w.prototype.add,P=w.prototype.subtract;w.prototype.add=function(_,B){return h(_)?N(this,_,1):D.bind(this)(_,B)},w.prototype.subtract=function(_,B){return h(_)?N(this,_,-1):P.bind(this)(_,B)}}})})(ut);var cn=ut.exports;const un=at(cn);$e.extend(un);function ln(e){var o,s;if(typeof e=="number")return e;const t=/^(?<number>[\d.]+)(?<unit>[a-z]+)$/i.exec(e),n=((o=t==null?void 0:t.groups)==null?void 0:o.number)??0,r=(s=t==null?void 0:t.groups)==null?void 0:s.unit;return $e.duration(Number(n),r).asMilliseconds()}function lt(e,t){return $e(e).format(t??"YYYY-MM-DD HH:mm:ss")}function dn(e,t){const n=typeof e=="string"?ln(e):e;return t?new Promise(r=>{const o=setTimeout(r,n);t.addEventListener("abort",()=>{clearTimeout(o),r()})}):new Promise(r=>{setTimeout(r,n)})}function dt(e){return new Promise(t=>{const n=e(r=>{n(),t(r)})})}function ft(e){return typeof e=="object"&&e!==null}function fn(e){return e===void 0}function ht(e){return(...t)=>t.filter(n=>!fn(n)).map(n=>n.toString()).reduce((n,r)=>(n=n.replace(new RegExp(`${e}*$`),""),r=r.replace(new RegExp(`^${e}*`),""),n===""?r:r===""?n:`${n}${e}${r}`),"")}function gt(e){return e.replace(/^./,t=>t.toUpperCase())}function Ve(e){return e.replace(/^./,t=>t.toLowerCase())}const hn=ht("/"),le=(...e)=>hn(...e.filter(t=>!!t)),Be=new Map,Oe=e=>{const t=Be.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([n,r])=>[n,r.getState()])):{}},gn=(e,t,n)=>{if(e===void 0)return{type:"untracked",connection:t.connect(n)};const r=Be.get(n.name);if(r)return{type:"tracked",store:e,...r};const o={connection:t.connect(n),stores:{}};return Be.set(n.name,o),{type:"tracked",store:e,...o}},mt=(e,t={})=>(n,r,o)=>{const{enabled:s,anonymousActionType:i,store:a,...c}=t;let u;try{u=(s??!1)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!u)return e(n,r,o);const{connection:l,...d}=gn(a,u,c);let f=!0;o.setState=(M,I,k)=>{const C=n(M,I);if(!f)return C;const V=k===void 0?{type:i||"anonymous"}:typeof k=="string"?{type:k}:k;return a===void 0?(l==null||l.send(V,r()),C):(l==null||l.send({...V,type:`${a}/${V.type}`},{...Oe(c.name),[a]:o.getState()}),C)};const h=(...M)=>{const I=f;f=!1,n(...M),f=I},S=e(o.setState,r,o);if(d.type==="untracked"?l==null||l.init(S):(d.stores[d.store]=o,l==null||l.init(Object.fromEntries(Object.entries(d.stores).map(([M,I])=>[M,M===d.store?S:I.getState()])))),o.dispatchFromDevtools&&typeof o.dispatch=="function"){let M=!1;const I=o.dispatch;o.dispatch=(...k)=>{I(...k)}}return l.subscribe(M=>{var I;switch(M.type){case"ACTION":if(typeof M.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return xe(M.payload,k=>{if(k.type==="__setState"){if(a===void 0){h(k.state);return}Object.keys(k.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const C=k.state[a];if(C==null)return;JSON.stringify(o.getState())!==JSON.stringify(C)&&h(C);return}o.dispatchFromDevtools&&typeof o.dispatch=="function"&&o.dispatch(k)});case"DISPATCH":switch(M.payload.type){case"RESET":return h(S),a===void 0?l==null?void 0:l.init(o.getState()):l==null?void 0:l.init(Oe(c.name));case"COMMIT":if(a===void 0){l==null||l.init(o.getState());return}return l==null?void 0:l.init(Oe(c.name));case"ROLLBACK":return xe(M.state,k=>{if(a===void 0){h(k),l==null||l.init(o.getState());return}h(k[a]),l==null||l.init(Oe(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return xe(M.state,k=>{if(a===void 0){h(k);return}JSON.stringify(o.getState())!==JSON.stringify(k[a])&&h(k[a])});case"IMPORT_STATE":{const{nextLiftedState:k}=M.payload,C=(I=k.computedStates.slice(-1)[0])==null?void 0:I.state;if(!C)return;h(a===void 0?C:C[a]),l==null||l.send(null,k);return}case"PAUSE_RECORDING":return f=!f}return}}),S},xe=(e,t)=>{let n;try{n=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}n!==void 0&&t(n)},mn=e=>(t,n,r)=>{const o=r.subscribe;return r.subscribe=(i,a,c)=>{let u=i;if(a){const l=(c==null?void 0:c.equalityFn)||Object.is;let d=i(r.getState());u=f=>{const h=i(f);if(!l(d,h)){const S=d;a(d=h,S)}},c!=null&&c.fireImmediately&&a(d,d)}return o(u)},e(t,n,r)},pt=e=>{let t;const n=new Set,r=(l,d)=>{const f=typeof l=="function"?l(t):l;if(!Object.is(f,t)){const h=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(S=>S(t,h))}},o=()=>t,c={setState:r,getState:o,getInitialState:()=>u,subscribe:l=>(n.add(l),()=>n.delete(l)),destroy:()=>{n.clear()}},u=t=e(r,o,c);return c},yt=e=>e?pt(e):pt;function Ze(e,t=new WeakMap){if(e===null||typeof e!="object")return e;if(t.has(e))return t.get(e);let n;if(Array.isArray(e))n=Array.from(e),t.set(e,n),n=n.map(r=>Ze(r,t));else if(Object.prototype.toString.call(e)==="[object Object]"){n=Object.create(Object.getPrototypeOf(e)),t.set(e,n);const r=Object.getOwnPropertyDescriptors(e);Object.keys(r).forEach(o=>{const s=r[o];s.get||s.set?Object.defineProperty(n,o,s):n[o]=Ze(e[o],t)})}else n=e;return n}function wt(e,...t){return t.forEach(n=>{Object.keys(n).forEach(r=>{const o=Object.getOwnPropertyDescriptor(n,r);o!=null&&o.get||o!=null&&o.set?Object.defineProperty(e,r,o):Reflect.set(e,r,n[r])})}),e}function pn(e,...t){return t.forEach(n=>{Object.keys(n).forEach(r=>{const o=Object.getOwnPropertyDescriptor(n,r);o?Object.defineProperty(e,r,o):Reflect.set(e,r,n[r])})}),e}const vt=e=>(t,n,r)=>(r.setState=(o,s)=>{if(typeof n()!="object"||n()===null)return t(o,!0);const i=Ze(n());let a=i;return typeof o=="function"?o(i):a=s?o:wt(i,o),t(a,!0)},e(r.setState,n,r));function yn({timeout:e,onTimeout:t,onNameDuplicate:n,onMultipleProvide:r}={}){const o={};function s(d,f){return ft(d)?wt({},d,...f.map(h=>h.value)):Object.assign({value:d},...f)}function i(d){o[d]||(o[d]=wn()),Object.keys(o).filter(h=>h===d).length>1&&(n==null||n(d))}function a(d,f){i(d),o[d].value!==null&&(r==null||r(d)),o[d].value=f,o[d].store.setState(s(f,o[d].overrides))}function c(d,f){i(d);const h={value:f},S=o[d];return S.overrides.push(h),S.value!==null&&S.store.setState(s(S.value,S.overrides)),()=>{S.overrides=S.overrides.filter(M=>M!==h),S.store.setState(s(S.value,S.overrides))}}async function u(d,f){i(d);const h=o[d];if(h.value!==null){if(f){f(l(d));return}return l(d)}if(f){dt(h.store.subscribe).then(()=>f(l(d)));return}const S=new AbortController;return e&&t&&dn(e,S.signal).then(()=>t(d)),await dt(h.store.subscribe).then(()=>{S.abort()}),l(d)}function l(d){const f=o[d];return f?ft(f.value)?f.store.getState():f.store.getState().value:null}return{get:l,inject:u,provide:a,override:c}}function wn(){return{store:yt(vt(mt(()=>({})))),value:null,overrides:[]}}async function vn(e,t){return await new Promise(n=>{const r=()=>{e()?n(t==null?void 0:t()):requestAnimationFrame(r)};r()})}function bn(e){try{return new URL(`https://${e}`).hostname===e}catch{return!1}}function Sn(e){return e==="https://zoom.us"||e==="https://zoom.com"?!0:bn(e)?/^(zoom\.us|zoom\.com)$/.test(e)||/\.(zoom\.us|zoom\.com)$/.test(e):!1}function _n(e,t=!1){try{const n=Sn(e);return t?n:n&&window.location.hostname!==e}catch{return!1}}async function $n(){return vn(()=>!!document.body,()=>document.body)}function On(e){let t=!1;const n=new Map,r=a=>{const c=a.toString();if(!n.has(c)){if(t)throw new Error(`Hook "${e}" is disposed`);return n.set(c,a),()=>{n.delete(c)}}},o=()=>{t=!0,n.clear()},s=a=>new Promise(c=>{if(t)throw new Error(`Hook "${e}" is disposed`);const u=[...n.values()];Promise.all(u.map(l=>l(a))).then(()=>c())}),i=gt(e);return{[e]:s,[`on${i}`]:r,[`dispose${i}`]:o}}function En(e){let t=Ve(e);return/^on[A-Z]/.test(e)&&(t=Ve(e.slice(2))),/^dispose[A-Z]/.test(e)&&(t=Ve(e.slice(7))),t}class Pn{constructor(){this._hooks={},this.hooks=new Proxy(this._hooks,{get:(t,n,r)=>{if(typeof n!="string")return Reflect.get(t,n,r);const o=En(n);return t[o]||this.define(o),t[o][n]}})}define(t){Array.isArray(t)?t.forEach(n=>{this.defineSingle(n)}):this.defineSingle(t)}defineSingle(t){if(this._hooks[t])return;const n=On(t);this._hooks[t]=n}dispose(t){const n=this._hooks[t];n&&(n[`dispose${gt(t)}`](),delete this._hooks[t])}disposeAll(){Object.keys(this._hooks).forEach(t=>{this.dispose(t)})}get hook(){return this.hooks}get trigger(){return this.hooks}}class bt{constructor(t){this.id=t}get name(){return this.id.name}get category(){return this.id.category}impl(t,n){const r=t;return r.id=this.id,Reflect.defineProperty(r,"name",{value:r.name||this.name,writable:!1}),Reflect.defineProperty(r,"dependencies",{value:n??[]}),r}}const St=Symbol.for("PLUGIFY_STORE"),Mn=Symbol.for("PLUGIFY_DYNAMIC_LOAD"),oe=e=>{const[t,n]=e.split("/");return new bt({name:n,category:t||"?"})},Cn=oe("PlugifyBuiltin/DependencyInjectionPlugin").impl(e=>{const{logger:t}=e();return{serviceContainer:yn({timeout:"10s",onTimeout(r){t.warn(`${r.description} may not be registered!`)},onMultipleProvide(r){t.warn(`${r.description} is already registered!`)},onNameDuplicate(r){t.warn(`Multiple serive with same name: ${r.description}!`)}})}}),kn=e=>t=>{const{hook:n}=e;t==null||t(n)},Dn=e=>oe("PlugifyBuiltin/HookPlugin").impl(t=>{const{logger:n}=t(),r=new Pn,{disposed:o}=r.trigger,{onCreated:s,onDisposed:i}=r.hook;e==null||e.forEach(c=>kn(r)(c));const a=()=>{o(),r.disposeAll()};return s(()=>{n.info("Created"),window.addEventListener("unload",a)}),i(()=>{n.info("Disposed")}),{onCreated:s,onDisposed:i,dispose:a,get hookManager(){return r}}}),Ee=Symbol.for("LIVESDK_GLOBAL_ENV");window[Ee]||(window[Ee]={});function _t(e){pn(window[Ee],e)}function $t(e){return _t(e),[()=>window[Ee],r=>{const o={};r(o),_t(o)}]}const[Pe,Ln]=$t({});window.location.search.includes("enableLivesdkLog")&&Ln(e=>{e.COMMON_ENABLE_LOG=!0});const Ot=ht("/"),In=oe("PlugifyBuiltin/LoggerPlugin");function Ue(e,t){const n=(r,o,...s)=>{const i={app:e,level:r,message:o,timestamp:$e().valueOf(),data:s};t(i)};return{info:(r,...o)=>n("info",r,...o),warn:(r,...o)=>n("warn",r,...o),error:(r,...o)=>n("error",r,...o),task:(r,o)=>(n("info",`${r}...`),o.then(()=>{n("info",`${r}...done ✅`)}).catch(s=>{n("error",`${r}...failed ❌`,s)}),o)}}const Fe=e=>{const t=Pe().COMMON_LOG_HANDLER;if(t)try{t(e)}catch(n){console.error(n)}else(e.level==="error"||Pe().COMMON_ENABLE_LOG)&&Vn(e)},Nn={...Ue("LivesdkGlobal",Fe),create:e=>Ue(Ot("LivesdkGlobal",e),Fe)},An=(e,t)=>In.impl(()=>{const n=new Set,r=s=>Ue(Ot(e,s??""),i=>{for(const a of n)a(i)}),o=s=>(n.add(s),()=>{n.delete(s)});return t&&o(t),{getLogger:r,useLogger:o}}),Me=/Chrome/.test(navigator.userAgent),Et=e=>Me?`\x1B[90m${e}\x1B[39m`:e,zn=e=>Me?`\x1B[32m${e}\x1B[39m`:e,Rn=e=>Me?`\x1B[33m${e}\x1B[39m`:e,Tn=e=>Me?`\x1B[31m${e}\x1B[39m`:e;function jn(e,t,n){let r;switch(e){case"info":r=zn;break;case"warn":r=Rn;break;case"error":r=Tn;break;case"debug":r=Et;break;default:r=s=>s}const o=n?`__${n}`:"";return`${r(`[${e.toUpperCase()}${o}]`)} ${Et(lt(t,"YYYY-MM-DD HH:mm:ss.SSS"))} -`}function Vn(e){console.log(jn(e.level,e.timestamp,e.app),e.message,...e.data)}const Bn=oe("PlugifyBuiltin/MetaPlugin"),xn=e=>Bn.impl(()=>{const{name:t,instanceId:n,debug:r,data:o={}}=e;return{get $meta(){return{instanceId:n,name:t,debug:r??!1,data:o}}}},[]);function Zn(e,{name:t,debug:n,instanceId:r,hooks:o}={}){const s=yt(mn(mt(vt(()=>({}))))),i=[An(t,Fe),xn({instanceId:r,name:t}),Cn,Dn(o??[]),...e],a=new Set;let c=!1;const u=h=>{const S=Mt(h),M=new Map(S.filter(C=>typeof C=="function").map(C=>[C.id,C]));let I=new Set;const k=C=>{I.add(C)};for(const C of S){if(a.has(C.id))continue;let V=N=>()=>{const $=s.getState();return new Proxy($,{get(w,g){return g==="logger"?$.getLogger(N.name):g==="$pluginName"?N.name:Reflect.get(w,g)}})};const J=n?N=>{typeof N=="function"?s.setState($=>{const w=new Proxy($,{get(g,D){return Reflect.get(g,D)},set(g,D,P){return console.trace("plugify set:",D,"=",P),Reflect.set(g,D,P)}});N(w)}):(Object.keys(N).forEach($=>{console.trace("plugify set:",$,"=",N[$])}),s.setState(N))}:s.setState;if(c&&(V=N=>()=>{const $=s.getState();return new Proxy($,{get(w,g){return g==="logger"?$.getLogger(N.name):g==="onCreated"?k:Reflect.get(w,g)}})}),Un(C)){const N=M.get(C.id);if(N){const $=N(V(C),J,s);$&&s.setState($)}else throw new Error(`❌ Implementation for ${C.id.name} not found`)}else if(Pt(C)){const N=C(V(C),J,s);N&&s.setState(N)}a.add(C.id)}c&&(I.forEach(C=>C()),I=new Set)};u(i),c=!0;const{hookManager:l,getLogger:d}=s.getState();l.trigger.created({logger:d(`${t}mixin`)});const f={};return Object.keys(s.getState()).forEach(h=>{const S=Reflect.getOwnPropertyDescriptor(s.getState(),h);S!=null&&S.set?Reflect.defineProperty(f,h,S):Reflect.defineProperty(f,h,{get(){return s.getState()[h]},enumerable:!0})}),Reflect.defineProperty(f,St,{value:s,writable:!1}),Reflect.defineProperty(f,Mn,{value:u,writable:!1}),s.subscribe(h=>{Object.keys(h).forEach(M=>{Reflect.has(f,M)||Reflect.defineProperty(f,M,{get(){return s.getState()[M]}})})}),f}function Pt(e){return typeof e=="function"}function Un(e){return e instanceof bt}function Mt(e){const t=new WeakSet;return e.map(n=>{if(t.has(n))return[];t.add(n);const r=Reflect.get(n,"dependencies");return Pt(n)&&(r==null?void 0:r.length)>0?[...Mt(r),n]:n}).flat()}function Fn(...e){const[t,n,r]=e,o=Reflect.get(t,St);if(!o)throw new Error("plugify.subscribe() can only be used with minxins");return r?o.subscribe(n,r):o.subscribe(n)}Reflect.defineProperty(oe,"mixin",{value:Zn,writable:!1}),Reflect.defineProperty(oe,"subscribe",{value:Fn,writable:!1});const Ce=oe,Ge={dev:{CCIZP:"https://ccizp.zoomdev.us/",CCIZPAPI:"https://ccizpapi.zoomdev.us/",ZPNS:"wss://zpns.zoomdev.us/ws",WEB_ENDPOINT:"zoomdev.us",SCHEDULER:"http://localhost:3000",CAMPAIGN:"https://devcampaign.zoomdev.us/",ZVA:"https://devapizva.zoomdev.us/",CDN:"https://devccistatic.zoomdev.us/web-sdk/",LOG:"https://devlog-gateway.zoomdev.us/nws/join/logger/zccfelog"},devb:{CCIZP:"https://dev01cci.zoomdev.us/",CCIZPAPI:"https://dev01cciapi.zoomdev.us/",ZPNS:"wss://zpns.zoomdev.us/ws",WEB_ENDPOINT:"zoomdev.us",SCHEDULER:"https://scheduler.acqa.zoomdev.us",CAMPAIGN:"https://dev01campaign.zoomdev.us/",ZVA:"https://dev01apizva.zoomdev.us/",CDN:"https://devccistatic.zoomdev.us/web-sdk/",LOG:"https://devlog-gateway.zoomdev.us/nws/join/logger/zccfelog"},qa:{CCIZP:"https://qa01ccizp.zoomdev.us/",CCIZPAPI:"https://qa01ccizpapi.zoomdev.us/",ZPNS:"wss://zpns.zoomdev.us/ws",WEB_ENDPOINT:"zoomdev.us",SCHEDULER:"https://scheduler.acqa.zoomdev.us",CAMPAIGN:"https://qa01campaign.zoomdev.us/",ZVA:"https://qa01apizva.zoomdev.us/",CDN:"https://devccistatic.zoomdev.us/web-sdk/",LOG:"https://devlog-gateway.zoomdev.us/nws/join/logger/zccfelog"},go:{CCIZP:"https://gocci.zoom.us/",CCIZPAPI:"https://gocciapi.zoom.us/",ZPNS:"wss://gozpns.zoom.us/ws",WEB_ENDPOINT:"go.zoom.us",SCHEDULER:"scheduler.asynccommgo.zoom.us",CAMPAIGN:"https://gocampaign.zoom.us/",ZVA:"https://goapizva.zoom.us/",CDN:"https://goccistatic.zoom.us/gocci/web-sdk/",LOG:"https://log-gateway.zoom.us/nws/join/logger/zccfelog"},eu01:{CCIZP:"https://eu01cci.zoom.us/",CCIZPAPI:"https://eu01cciapi.zoom.us/",ZPNS:"wss://zpns.zoom.us/ws",WEB_ENDPOINT:"zoom.us",SCHEDULER:"https://scheduler.zoom.us",CAMPAIGN:"https://eu01campaign.zoom.us/",ZVA:"https://eu01apizva.zoom.us/",CDN:"https://eu01ccistatic.zoom.us/eu01cci/web-sdk/"},us01:{CCIZP:"https://us01cci.zoom.us/",CCIZPAPI:"https://us01cciapi.zoom.us/",ZPNS:"wss://zpns.zoom.us/ws",WEB_ENDPOINT:"zoom.us",SCHEDULER:"https://scheduler.zoom.us",CAMPAIGN:"https://us01campaign.zoom.us/",ZVA:"https://us01apizva.zoom.us/",CDN:"https://us01ccistatic.zoom.us/us01cci/web-sdk/",LOG:"https://log-gateway.zoom.us/nws/join/logger/zccfelog"},govdev:{CCIZP:"https://cci.zoomgovdev.com/",CCIZPAPI:"https://cciapi.zoomgovdev.com/",ZPNS:"wss://zpns.zoomgovdev.com/ws",WEB_ENDPOINT:"zoomgovdev.com",SCHEDULER:"",CAMPAIGN:"https://campaign.zoomgovdev.com/",ZVA:"https://us01apizva.zoom.us/",CDN:"https://ccistatic.zoomgovdev.com/web-sdk/"},gov:{CCIZP:"https://cci.zoomgov.com/",CCIZPAPI:"https://cciapi.zoomgov.com/",ZPNS:"wss://zpns.zoomgov.com/ws",WEB_ENDPOINT:"zoomgov.com",SCHEDULER:"",CAMPAIGN:"https://campaign.zoomgov.com/",ZVA:"https://us01apizva.zoom.us/",CDN:"https://ccistatic.zoomgov.com/web-sdk/"}},Gn=Object.fromEntries(Object.entries(Ge).map(([e,t])=>[e,t.CAMPAIGN]));function Ct(e){return["dev","devb","qa","go","eu01","us01","govdev","gov"].includes(e??"")?e:"us01"}const Yn=Object.fromEntries(Object.entries(Ge).map(([e,t])=>[e,t.ZVA])),Wn=new URLSearchParams(window.location.search).get("__zcc_version__")||"4518",Hn=Symbol.for("__ZCC_LIVESDK_CDN_ENV__"),kt=Pe().COMMON_CDN_ENV,Dt=Pe().COMMON_CUSTOM_CDN,ke=Object.fromEntries(Object.entries(Ge).map(([e,t])=>[e,t.CDN])),de=Dt?Object.fromEntries(Object.keys(ke).map(e=>[e,Dt])):kt?Object.fromEntries(Object.keys(ke).map(e=>[e,ke[kt]])):ke;/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lt=Symbol("Comlink.proxy"),qn=Symbol("Comlink.endpoint"),Kn=Symbol("Comlink.releaseProxy"),Ye=Symbol("Comlink.finalizer"),De=Symbol("Comlink.thrown"),It=e=>typeof e=="object"&&e!==null||typeof e=="function",Jn={canHandle:e=>It(e)&&e[Lt],serialize(e){const{port1:t,port2:n}=new MessageChannel;return At(e,t),[n,[n]]},deserialize(e){return e.start(),Rt(e)}},Xn={canHandle:e=>It(e)&&De in e,serialize({value:e}){let t;return e instanceof Error?t={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:t={isError:!1,value:e},[t,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},Nt=new Map([["proxy",Jn],["throw",Xn]]);function Qn(e,t){for(const n of e)if(t===n||n==="*"||n instanceof RegExp&&n.test(t))return!0;return!1}function At(e,t=globalThis,n=["*"]){t.addEventListener("message",function r(o){if(!o||!o.data)return;if(!Qn(n,o.origin)){console.warn(`Invalid origin '${o.origin}' for comlink proxy`);return}const{id:s,type:i,path:a}=Object.assign({path:[]},o.data),c=(o.data.argumentList||[]).map(se);let u;try{if(a.includes("__proto__")||a.includes("constructor")||a.includes("prototype"))throw new Error("Invalid path");const l=a.slice(0,-1).reduce((f,h)=>f[h],e),d=a.reduce((f,h)=>f[h],e);switch(i){case"GET":u=d;break;case"SET":l[a.slice(-1)[0]]=se(o.data.value),u=!0;break;case"APPLY":u=d.apply(l,c);break;case"CONSTRUCT":{const f=new d(...c);u=sr(f)}break;case"ENDPOINT":{const{port1:f,port2:h}=new MessageChannel;At(e,h),u=or(f,[f])}break;case"RELEASE":u=void 0;break;default:return}}catch(l){u={value:l,[De]:0}}Promise.resolve(u).catch(l=>({value:l,[De]:0})).then(l=>{const[d,f]=Ae(l);t.postMessage(Object.assign(Object.assign({},d),{id:s}),f),i==="RELEASE"&&(t.removeEventListener("message",r),zt(t),Ye in e&&typeof e[Ye]=="function"&&e[Ye]())}).catch(l=>{const[d,f]=Ae({value:new TypeError("Unserializable return value"),[De]:0});t.postMessage(Object.assign(Object.assign({},d),{id:s}),f)})}),t.start&&t.start()}function er(e){return e.constructor.name==="MessagePort"}function zt(e){er(e)&&e.close()}function Rt(e,t){return We(e,[],t)}function Le(e){if(e)throw new Error("Proxy has been released and is not useable")}function Tt(e){return fe(e,{type:"RELEASE"}).then(()=>{zt(e)})}const Ie=new WeakMap,Ne="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{const t=(Ie.get(e)||0)-1;Ie.set(e,t),t===0&&Tt(e)});function tr(e,t){const n=(Ie.get(t)||0)+1;Ie.set(t,n),Ne&&Ne.register(e,t,e)}function nr(e){Ne&&Ne.unregister(e)}function We(e,t=[],n=function(){}){let r=!1;const o=new Proxy(n,{get(s,i){if(Le(r),i===Kn)return()=>{nr(o),Tt(e),r=!0};if(i==="then"){if(t.length===0)return{then:()=>o};const a=fe(e,{type:"GET",path:t.map(c=>c.toString())}).then(se);return a.then.bind(a)}return We(e,[...t,i])},set(s,i,a){Le(r);const[c,u]=Ae(a);return fe(e,{type:"SET",path:[...t,i].map(l=>l.toString()),value:c},u).then(se)},apply(s,i,a){Le(r);const c=t[t.length-1];if(c===qn)return fe(e,{type:"ENDPOINT"}).then(se);if(c==="bind")return We(e,t.slice(0,-1));const[u,l]=jt(a);return fe(e,{type:"APPLY",path:t.map(d=>d.toString()),argumentList:u},l).then(se)},construct(s,i){Le(r);const[a,c]=jt(i);return fe(e,{type:"CONSTRUCT",path:t.map(u=>u.toString()),argumentList:a},c).then(se)}});return tr(o,e),o}function rr(e){return Array.prototype.concat.apply([],e)}function jt(e){const t=e.map(Ae);return[t.map(n=>n[0]),rr(t.map(n=>n[1]))]}const Vt=new WeakMap;function or(e,t){return Vt.set(e,t),e}function sr(e){return Object.assign(e,{[Lt]:!0})}function ir(e,t=globalThis,n="*"){return{postMessage:(r,o)=>e.postMessage(r,n,o),addEventListener:t.addEventListener.bind(t),removeEventListener:t.removeEventListener.bind(t)}}function Ae(e){for(const[t,n]of Nt)if(n.canHandle(e)){const[r,o]=n.serialize(e);return[{type:"HANDLER",name:t,value:r},o]}return[{type:"RAW",value:e},Vt.get(e)||[]]}function se(e){switch(e.type){case"HANDLER":return Nt.get(e.name).deserialize(e.value);case"RAW":return e.value}}function fe(e,t,n){return new Promise(r=>{const o=ar();e.addEventListener("message",function s(i){!i.data||!i.data.id||i.data.id!==o||(e.removeEventListener("message",s),r(i.data))}),e.start&&e.start(),e.postMessage(Object.assign({id:o},t),n)})}function ar(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}let cr=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");const Bt=Symbol.for("livesdk_tid"),ze=Symbol.for("livesdk_iframe_store");function ur(e){try{return new URL(e).hostname===window.location.hostname}catch{return!1}}async function lr(e){if(!ur(e)&&!window[ze]){window[Bt]=cr();const t=await $n();window[ze]=new Promise((n,r)=>{const o=document.createElement("iframe");o.src=e,o.style.display="none",t.appendChild(o),o.onload=()=>{n(o)},o.onerror=s=>{r(s)},setTimeout(()=>{r(new Error("iframe load timeout"))},25e3)}),await window[ze]}}const dr="zoomsdkcorsstabsync:req",xt="zoomsdkcorsstabsync:res";if(!((sn=window.ZOOM_SUPPORT_CROSS_TAB_FLAGS)!=null&&sn.disabled)){let e;addEventListener("message",async t=>{var n;try{const r=new URL(t.origin).hostname;if(_n(r)&&t.origin!==window.origin&&((n=t.data)==null?void 0:n.type)===dr){const{key:o,namespace:s}=t.data,i=await window[ze];if(!i.contentWindow){t.source.postMessage({type:xt,key:o,value:null},{targetOrigin:t.origin});return}e||(e=Rt(ir(i.contentWindow)));const a=await e.getItem({tid:window[Bt],namespace:s,key:o});t.source.postMessage({type:xt,key:o,value:a},{targetOrigin:t.origin})}}catch{}})}function ye(e){return{name:e}}const Zt=Ce("Common/LoadSdkPlugin").impl(e=>{const t=new Map,n=e().logger;return{importSdk:async(o,s)=>{try{const i=t.get(o);if(!i)throw n.error(`No loader for ${o.name}`),new Error(`No loader for ${o.name}`);return n.info(`Loading ${o.name}`),await i.load(s)}catch(i){return n.error(`Failed to load ${o.name}`,i),Promise.reject(i)}},useSdkLoader(o,s){t.set(o,s)}}});function He(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||Symbol.iterator in e?!1:Symbol.toStringTag in e?Object.prototype.toString.call(e)==="[object Module]":!0}function qe(e,t,n=".",r){if(!He(t))return qe(e,{},n,r);const o=Object.assign({},t);for(const s in e){if(s==="__proto__"||s==="constructor")continue;const i=e[s];i!=null&&(r&&r(o,s,i,n)||(Array.isArray(i)&&Array.isArray(o[s])?o[s]=[...i,...o[s]]:He(i)&&He(o[s])?o[s]=qe(i,o[s],(n?`${n}.`:"")+s.toString(),r):o[s]=i))}return o}function fr(e){return(...t)=>t.reduce((n,r)=>qe(n,r,"",e),{})}const hr=fr();function gr(e,t,n){const r=n==null?void 0:n.merge,o=Reflect.get(window,e);if(r&&o){const s=t();if(typeof s=="object"&&typeof o=="object"){const i=hr(o,s);for(const a of Object.keys(i))Reflect.set(o,a,Reflect.get(i,a))}}else o||Reflect.set(window,e,t());return Reflect.get(window,e)}function Ut(e,t,n){return gr(`ZoomWebSDKDef__${e}`,t,n)}function T(...e){const t=[mr(),...e];return Ft(...t)}function Ft(...e){const t=()=>{for(const r of e)if(typeof r=="function"){const o=r();if(o!==null)return o}else if(r instanceof Gt){const o=r.read();if(o!==null)return o}else if(r!=null)return r;return null},n=r=>{for(const o of e)if(o instanceof Ke){o.write(r);return}};return new Ke(t,n)}function mr(){let e=null;const t=()=>e,n=r=>{e=r};return new Ke(t,n)}class Gt{constructor(t){this.read=t}}class Ke extends Gt{constructor(t,n){super(t),this.write=n}}function Y(...e){if(e.length===0)return null;let t=null;for(const n of e)if(t===null)t=n;else if(typeof t=="object"&&Reflect.has(t,n))t=Reflect.get(t,n);else return null;return t}function j(e,t,n){const o=new URL(e).searchParams.get(t);return n?n(o):o}function X(e){for(const t of e.selectors){const n=document.querySelector(t);if(n)return Y(n,...e.path)}return null}const q=Symbol.for("LIVESDK_GLOBAL_ENV"),ie="script[data-apikey][data-chat-entry-id]",ne='script:not([data-apikey])[src$="zcc-sdk.js"][data-chat-entry-id], script:not([data-apikey])[src$="chat-client.js"][data-chat-entry-id], script[data-apikey][src$="chat-client.js"]:not([data-chat-entry-id]), script[data-apikey][src$="zcc-sdk.js"]:not([data-chat-entry-id]), script[src$="chat-client.js"]:not([data-chat-entry-id]), script[src$="zcc-sdk.js"]:not([data-chat-entry-id])',pr='script[data-apikey][src*=".zoom"]:not([data-chat-entry-id]):not([src$="chat-client.js"]):not([src$="zcc-sdk.js"]), script[data-entry-id][src*=".zoom"]';function we(e){return e===null?null:e==="true"||e===""}const yr=T(null,()=>j(window.location.href,"__IS_DEBUG__",we),()=>Y(window,"__ZCX_LIVESDK_DEBUG__"),()=>Y(window,q,"COMMON_DEBUG"),!1);function x(e){return()=>yr.read()?e():null}function wr(...e){return Y(window,"zoomCampaignSdkConfig",...e)}const L=Ut("GlobalConfigs",()=>({enableLog:T(x(()=>!0),()=>j(window.location.href,"enableLivesdkLog",we),()=>Y(window,q,"COMMON_ENABLE_LOG"),!1),cdnEnv:T(x(()=>j(window.location.href,"cdnEnv")),()=>Y(window,q,"COMMON_CDN_ENV"),"us01"),enableZcb:T(()=>j(window.location.href,"enableZcb",we),()=>Y(window,q,"COMMON_ENABLE_ZCB"),!1),cdnVersion:T(x(()=>j(window.location.href,"cdnVersion")),()=>Y(window,q,"COMMON_CDN_VERSION")),cdnZccVersion:T(x(()=>j(window.location.href,"cdnZccVersion")),()=>Y(window,q,"COMMON_CDN_VERSION")),cdnZvaVersion:T(x(()=>j(window.location.href,"cdnZvaVersion")),()=>Y(window,q,"COMMON_CDN_ZVA_VERSION")),legacyLogReportter:T(()=>Y(window,q,"COMMON_LOG_HANDLER")),refreshTokenWhenExpiredIn:T(x(()=>j(window.location.href,"refreshTokenWhenExpiredIn",Number)),()=>Y(window,q,"COMMON_REFRESH_TOKEN_WHEN_EXPIRED_IN")),customCdn:T(x(()=>j(window.location.href,"customCdn")),()=>Y(window,q,"COMMON_CUSTOM_CDN")),env:T(x(()=>j(window.location.href,"env")),()=>Y(window,q,"COMMON_ENV"),()=>X({selectors:[ie,ne,pr],path:["dataset","env"]}),"us01")}),{merge:!0});Ut("GlobalChatConfigs",()=>({...L,lazyLoadCampaign:T(x(()=>j(window.location.href,"lazyLoadCampaignUrl")),()=>Y(window,q,"COMMON_LAZY_LOAD_CAMPAIGN"),()=>X({selectors:[ne],path:["dataset","lazyLoadCampaignUrl"]})),productModule:T(x(()=>j(window.location.href,"productModule")),()=>X({selectors:[ie],path:["dataset","productModule"]})),chatEntryId:T(x(()=>j(window.location.href,"key")),()=>X({selectors:[ie,ne],path:["dataset","chatEntryId"]})),apikey:T(x(()=>j(window.location.href,"apikey")),()=>X({selectors:[ie,ne],path:["dataset","apikey"]})),zIndexBase:T(x(()=>j(window.location.href,"zIndexBase",Number)),()=>X({selectors:[ie,ne],path:["dataset","zIndexBase"],cast:Number})),draggableInvitation:T(x(()=>j(window.location.href,"draggableInvitation",we)),()=>X({selectors:[ie,ne],path:["dataset","draggableInvitation"],cast:Boolean})),windowPosition:T(x(()=>j(window.location.href,"windowPosition")),()=>X({selectors:[ne],path:["dataset","windowPosition"]})),el:T(x(()=>j(window.location.href,"el")),()=>X({selectors:[ie],path:["dataset","el"]})),fullscreenId:T(x(()=>j(window.location.href,"fullscreenId")),()=>X({selectors:[ne],path:["dataset","fullscreenId"]}))})),Ft(x(()=>j(window.location.href,"enableSPAMode",we)),()=>wr("enableSPAMode"),!1);const W={silent:Number.NEGATIVE_INFINITY,fatal:0,error:0,warn:1,log:2,info:3,success:3,fail:3,ready:3,start:3,box:3,debug:4,trace:5,verbose:Number.POSITIVE_INFINITY},Yt={silent:{level:-1},fatal:{level:W.fatal},error:{level:W.error},warn:{level:W.warn},log:{level:W.log},info:{level:W.info},success:{level:W.success},fail:{level:W.fail},ready:{level:W.info},start:{level:W.info},box:{level:W.info},debug:{level:W.debug},trace:{level:W.trace},verbose:{level:W.verbose}};function Je(e){return e!==null&&typeof e=="object"}function Xe(e,t,n=".",r){if(!Je(t))return Xe(e,{},n,r);const o=Object.assign({},t);for(const s in e){if(s==="__proto__"||s==="constructor")continue;const i=e[s];i!=null&&(r&&r(o,s,i,n)||(Array.isArray(i)&&Array.isArray(o[s])?o[s]=[...i,...o[s]]:Je(i)&&Je(o[s])?o[s]=Xe(i,o[s],(n?`${n}.`:"")+s.toString(),r):o[s]=i))}return o}function vr(e){return(...t)=>t.reduce((n,r)=>Xe(n,r,"",e),{})}const br=vr();function Sr(e){return Object.prototype.toString.call(e)==="[object Object]"}function _r(e){return!(!Sr(e)||!e.message&&!e.args||e.stack)}let Qe=!1;const Wt=[];class U{constructor(t={}){const n=t.types||Yt;this.options=br({...t,defaults:{...t.defaults},level:et(t.level,n),reporters:[...t.reporters||[]]},{types:Yt,throttle:1e3,throttleMin:5,formatOptions:{date:!0,colors:!1,compact:!0}});for(const r in n){const o={type:r,...this.options.defaults,...n[r]};this[r]=this._wrapLogFn(o),this[r].raw=this._wrapLogFn(o,!0)}this.options.mockFn&&this.mockTypes(),this._lastLog={}}get level(){return this.options.level}set level(t){this.options.level=et(t,this.options.types,this.options.level)}prompt(t,n){if(!this.options.prompt)throw new Error("prompt is not supported!");return this.options.prompt(t,n)}create(t){const n=new U({...this.options,...t});return this._mockFn&&n.mockTypes(this._mockFn),n}withDefaults(t){return this.create({...this.options,defaults:{...this.options.defaults,...t}})}withTag(t){return this.withDefaults({tag:this.options.defaults.tag?this.options.defaults.tag+":"+t:t})}addReporter(t){return this.options.reporters.push(t),this}removeReporter(t){if(t){const n=this.options.reporters.indexOf(t);if(n>=0)return this.options.reporters.splice(n,1)}else this.options.reporters.splice(0);return this}setReporters(t){return this.options.reporters=Array.isArray(t)?t:[t],this}wrapAll(){this.wrapConsole(),this.wrapStd()}restoreAll(){this.restoreConsole(),this.restoreStd()}wrapConsole(){for(const t in this.options.types)console["__"+t]||(console["__"+t]=console[t]),console[t]=this[t].raw}restoreConsole(){for(const t in this.options.types)console["__"+t]&&(console[t]=console["__"+t],delete console["__"+t])}wrapStd(){this._wrapStream(this.options.stdout,"log"),this._wrapStream(this.options.stderr,"log")}_wrapStream(t,n){t&&(t.__write||(t.__write=t.write),t.write=r=>{this[n].raw(String(r).trim())})}restoreStd(){this._restoreStream(this.options.stdout),this._restoreStream(this.options.stderr)}_restoreStream(t){t&&t.__write&&(t.write=t.__write,delete t.__write)}pauseLogs(){Qe=!0}resumeLogs(){Qe=!1;const t=Wt.splice(0);for(const n of t)n[0]._logFn(n[1],n[2])}mockTypes(t){const n=t||this.options.mockFn;if(this._mockFn=n,typeof n=="function")for(const r in this.options.types)this[r]=n(r,this.options.types[r])||this[r],this[r].raw=this[r]}_wrapLogFn(t,n){return(...r)=>{if(Qe){Wt.push([this,t,r,n]);return}return this._logFn(t,r,n)}}_logFn(t,n,r){if((t.level||0)>this.level)return!1;const o={date:new Date,args:[],...t,level:et(t.level,this.options.types)};!r&&n.length===1&&_r(n[0])?Object.assign(o,n[0]):o.args=[...n],o.message&&(o.args.unshift(o.message),delete o.message),o.additional&&(Array.isArray(o.additional)||(o.additional=o.additional.split(`
`)),o.args.push(`
`+o.additional.join(`
`)),delete o.additional),o.type=typeof o.type=="string"?o.type.toLowerCase():"log",o.tag=typeof o.tag=="string"?o.tag:"";const s=(a=!1)=>{const c=(this._lastLog.count||0)-this.options.throttleMin;if(this._lastLog.object&&c>0){const u=[...this._lastLog.object.args];c>1&&u.push(`(repeated ${c} times)`),this._log({...this._lastLog.object,args:u}),this._lastLog.count=1}a&&(this._lastLog.object=o,this._log(o))};clearTimeout(this._lastLog.timeout);const i=this._lastLog.time&&o.date?o.date.getTime()-this._lastLog.time.getTime():0;if(this._lastLog.time=o.date,i<this.options.throttle)try{const a=JSON.stringify([o.type,o.tag,o.args]),c=this._lastLog.serialized===a;if(this._lastLog.serialized=a,c&&(this._lastLog.count=(this._lastLog.count||0)+1,this._lastLog.count>this.options.throttleMin)){this._lastLog.timeout=setTimeout(s,this.options.throttle);return}}catch{}s(!0)}_log(t){for(const n of this.options.reporters)n.log(t,{options:this.options})}}function et(e,t={},n=3){return e===void 0?n:typeof e=="number"?e:t[e]&&t[e].level!==void 0?t[e].level:n}U.prototype.add=U.prototype.addReporter,U.prototype.remove=U.prototype.removeReporter,U.prototype.clear=U.prototype.removeReporter,U.prototype.withScope=U.prototype.withTag,U.prototype.mock=U.prototype.mockTypes,U.prototype.pause=U.prototype.pauseLogs,U.prototype.resume=U.prototype.resumeLogs;function $r(e={}){return new U(e)}class Or{constructor(t){this.options={...t},this.defaultColor="#7f8c8d",this.levelColorMap={0:"#c0392b",1:"#f39c12",3:"#00BCD4"},this.typeColorMap={success:"#2ecc71"}}_getLogFn(t){return t<1?console.__error||console.error:t===1?console.__warn||console.warn:console.__log||console.log}log(t){const n=this._getLogFn(t.level),r=t.type==="log"?"":t.type,o=t.tag||"",i=`
      background: ${this.typeColorMap[t.type]||this.levelColorMap[t.level]||this.defaultColor};
      border-radius: 0.5em;
      color: white;
      font-weight: bold;
      padding: 2px 0.5em;
    `,a=`%c${[o,r].filter(Boolean).join(":")}`;typeof t.args[0]=="string"?n(`${a}%c ${t.args[0]}`,i,"",...t.args.slice(1)):n(a,i,...t.args)}}function tt(e={}){return $r({reporters:e.reporters||[new Or({})],prompt(n,r={}){return r.type==="confirm"?Promise.resolve(confirm(n)):Promise.resolve(prompt(n))},...e})}tt();const nt=10,Ht=(e=0)=>t=>`\x1B[${t+e}m`,qt=(e=0)=>t=>`\x1B[${38+e};5;${t}m`,Kt=(e=0)=>(t,n,r)=>`\x1B[${38+e};2;${t};${n};${r}m`,z={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(z.modifier);const Er=Object.keys(z.color),Pr=Object.keys(z.bgColor);[...Er,...Pr];function Mr(){const e=new Map;for(const[t,n]of Object.entries(z)){for(const[r,o]of Object.entries(n))z[r]={open:`\x1B[${o[0]}m`,close:`\x1B[${o[1]}m`},n[r]=z[r],e.set(o[0],o[1]);Object.defineProperty(z,t,{value:n,enumerable:!1})}return Object.defineProperty(z,"codes",{value:e,enumerable:!1}),z.color.close="\x1B[39m",z.bgColor.close="\x1B[49m",z.color.ansi=Ht(),z.color.ansi256=qt(),z.color.ansi16m=Kt(),z.bgColor.ansi=Ht(nt),z.bgColor.ansi256=qt(nt),z.bgColor.ansi16m=Kt(nt),Object.defineProperties(z,{rgbToAnsi256:{value(t,n,r){return t===n&&n===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},enumerable:!1},hexToRgb:{value(t){const n=/[a-f\d]{6}|[a-f\d]{3}/i.exec(t.toString(16));if(!n)return[0,0,0];let[r]=n;r.length===3&&(r=[...r].map(s=>s+s).join(""));const o=Number.parseInt(r,16);return[o>>16&255,o>>8&255,o&255]},enumerable:!1},hexToAnsi256:{value:t=>z.rgbToAnsi256(...z.hexToRgb(t)),enumerable:!1},ansi256ToAnsi:{value(t){if(t<8)return 30+t;if(t<16)return 90+(t-8);let n,r,o;if(t>=232)n=((t-232)*10+8)/255,r=n,o=n;else{t-=16;const a=t%36;n=Math.floor(t/36)/5,r=Math.floor(a/6)/5,o=a%6/5}const s=Math.max(n,r,o)*2;if(s===0)return 30;let i=30+(Math.round(o)<<2|Math.round(r)<<1|Math.round(n));return s===2&&(i+=60),i},enumerable:!1},rgbToAnsi:{value:(t,n,r)=>z.ansi256ToAnsi(z.rgbToAnsi256(t,n,r)),enumerable:!1},hexToAnsi:{value:t=>z.ansi256ToAnsi(z.hexToAnsi256(t)),enumerable:!1}}),z}const Q=Mr(),Re=(()=>{if(navigator.userAgentData){const e=navigator.userAgentData.brands.find(({brand:t})=>t==="Chromium");if(e&&e.version>93)return 3}return/\b(Chrome|Chromium)\//.test(navigator.userAgent)?1:0})(),Jt=Re!==0&&{level:Re,hasBasic:!0,has256:Re>=2,has16m:Re>=3},Cr={stdout:Jt,stderr:Jt};function kr(e,t,n){let r=e.indexOf(t);if(r===-1)return e;const o=t.length;let s=0,i="";do i+=e.slice(s,r)+t+n,s=r+o,r=e.indexOf(t,s);while(r!==-1);return i+=e.slice(s),i}function Dr(e,t,n,r){let o=0,s="";do{const i=e[r-1]==="\r";s+=e.slice(o,i?r-1:r)+t+(i?`\r
`:`
`)+n,o=r+1,r=e.indexOf(`
`,o)}while(r!==-1);return s+=e.slice(o),s}const{stdout:Xt,stderr:Qt}=Cr,rt=Symbol("GENERATOR"),he=Symbol("STYLER"),ve=Symbol("IS_EMPTY"),en=["ansi","ansi","ansi256","ansi16m"],ge=Object.create(null),Lr=(e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const n=Xt?Xt.level:0;e.level=t.level===void 0?n:t.level},Ir=e=>{const t=(...n)=>n.join(" ");return Lr(t,e),Object.setPrototypeOf(t,be.prototype),t};function be(e){return Ir(e)}Object.setPrototypeOf(be.prototype,Function.prototype);for(const[e,t]of Object.entries(Q))ge[e]={get(){const n=Te(this,st(t.open,t.close,this[he]),this[ve]);return Object.defineProperty(this,e,{value:n}),n}};ge.visible={get(){const e=Te(this,this[he],!0);return Object.defineProperty(this,"visible",{value:e}),e}};const ot=(e,t,n,...r)=>e==="rgb"?t==="ansi16m"?Q[n].ansi16m(...r):t==="ansi256"?Q[n].ansi256(Q.rgbToAnsi256(...r)):Q[n].ansi(Q.rgbToAnsi(...r)):e==="hex"?ot("rgb",t,n,...Q.hexToRgb(...r)):Q[n][e](...r),Nr=["rgb","hex","ansi256"];for(const e of Nr){ge[e]={get(){const{level:n}=this;return function(...r){const o=st(ot(e,en[n],"color",...r),Q.color.close,this[he]);return Te(this,o,this[ve])}}};const t="bg"+e[0].toUpperCase()+e.slice(1);ge[t]={get(){const{level:n}=this;return function(...r){const o=st(ot(e,en[n],"bgColor",...r),Q.bgColor.close,this[he]);return Te(this,o,this[ve])}}}}const Ar=Object.defineProperties(()=>{},{...ge,level:{enumerable:!0,get(){return this[rt].level},set(e){this[rt].level=e}}}),st=(e,t,n)=>{let r,o;return n===void 0?(r=e,o=t):(r=n.openAll+e,o=t+n.closeAll),{open:e,close:t,openAll:r,closeAll:o,parent:n}},Te=(e,t,n)=>{const r=(...o)=>zr(r,o.length===1?""+o[0]:o.join(" "));return Object.setPrototypeOf(r,Ar),r[rt]=e,r[he]=t,r[ve]=n,r},zr=(e,t)=>{if(e.level<=0||!t)return e[ve]?"":t;let n=e[he];if(n===void 0)return t;const{openAll:r,closeAll:o}=n;if(t.includes("\x1B"))for(;n!==void 0;)t=kr(t,n.close,n.open),n=n.parent;const s=t.indexOf(`
`);return s!==-1&&(t=Dr(t,o,r,s)),r+t+o};Object.defineProperties(be.prototype,ge);const Rr=be();be({level:Qt?Qt.level:0});const tn=Rr,ae=tt({level:W.verbose}),Tr={log(e){switch(e.type){case"info":case"success":case"error":case"warn":case"debug":case"start":{if(e.type==="debug"&&!L.enableLog.read())return;const n={info:ae.info,success:ae.success,error:ae.error,warn:ae.warn,debug:ae.debug,start:ae.start}[e.type],r=tn.gray(lt(e.date.valueOf(),"YY/MM/DD HH:mm:ss.SSS Z")),o=tn.bold.blueBright(`[@ZCC_${e.tag||"GLOBAL"}]`);n(`${o} ${r}:`,...e.args);break}case"trace":{ae.trace(e.args);break}}}},nn=tt({level:W.verbose,reporters:[Tr]});function jr(e){let t=nn;return e!=null&&e.name&&(t=t.withTag(e.name)),e!=null&&e.consolaOptions&&(t=t.create(e.consolaOptions)),t}const[to,rn]=$t({}),ee=jr({name:"Loader"});async function Vr(e,t){var o,s,i,a,c;if((o=L==null?void 0:L.cdnZccVersion)!=null&&o.read()||(s=L==null?void 0:L.cdnVersion)!=null&&s.read()){ee.debug(`Found version in cache: ${L.cdnZccVersion.read()}`),ee.debug(`Found version in cache: ${L.cdnVersion.read()}`);return}const n={};t&&(n.apikey=t);const r=`${Gn[e]}v1/live-sdk-version/fast?${new URLSearchParams(n)}`;try{const u=await fetch(r).then(l=>l.json());(i=u.result)!=null&&i.liveSDKPath?(rn(l=>{l.COMMON_CDN_VERSION=u.result.liveSDKPath}),(a=L==null?void 0:L.cdnZccVersion)==null||a.write(u.result.liveSDKPath),(c=L==null?void 0:L.cdnVersion)==null||c.write(u.result.liveSDKPath),ee.debug(`WebSDK ZCC version: ${u.result.liveSDKPath}`)):ee.debug(`No version found in response: ${JSON.stringify(u)}`)}catch(u){ee.warn("Failed to get version",u)}}async function Br(e,t){if(L.cdnZvaVersion.read()){ee.debug(`Found version in cache: ${L.cdnZvaVersion.read()}`);return}const n=`${Yn[e]}v1/websdk/version`;try{const r=await fetch(n,{method:"GET",headers:{"X-Zm-apiKey":t}}).then(o=>o.json());r!=null&&r.result?(rn(o=>{o.COMMON_CDN_ZVA_VERSION=r==null?void 0:r.result}),L.cdnZvaVersion.write(r==null?void 0:r.result),ee.debug(`WebSDK ZVA version: ${r==null?void 0:r.result}`)):ee.debug(`No version found in response: ${JSON.stringify(r)}`)}catch(r){ee.warn("Failed to get version",r)}}const te=nn.withTag("LOADER"),xr=ye("WebVideo"),Zr=ye("VideoSdk"),Ur=ye("ZccSdk"),Fr=ye("ZvaSdk"),Gr=ye("WebCampaign"),me={WebVideo:xr,VideoSdk:Zr,ZccSdk:Ur,ZvaSdk:Fr,WebCampaign:Gr},Yr=Ce("Common/ZccSdkPlugin").impl(e=>{const{useSdkLoader:t,hookManager:n}=e();return t(me.WebVideo,{async load({env:r,version:o,entryId:s,apikey:i,draggableInvitation:a}){const c=new URL(le(de[r],o,"video-share-v2.js"));return r&&c.searchParams.set("env",r),s&&c.searchParams.set("entryId",s),i&&c.searchParams.set("apikey",i),a&&c.searchParams.set("draggableInvitation",a),te.debug(`Loading web video sdk from ${c}`,{env:r}),await import(c.href)}}),t(me.VideoSdk,{async load({env:r,version:o,entryId:s,apikey:i,draggableInvitation:a,cdnEnv:c}){const u=new URL(le(de[c||r],o,"video-client-v2.js"));return r&&u.searchParams.set("env",r),s&&u.searchParams.set("entryId",s),i&&u.searchParams.set("apikey",i),a&&u.searchParams.set("draggableInvitation",a),te.debug(`Loading video sdk from ${u}`,{env:r}),await import(u.href)}}),t(me.ZccSdk,{async load({draggableInvitation:r,windowPosition:o,zIndexBase:s,skipInit:i,version:a,entryId:c,apikey:u,mode:l,env:d,el:f}){const h=new URL(le(de[d],a,"chat-client-zcc-v2.js"));return d&&h.searchParams.set("env",d),c&&h.searchParams.set("entryId",c),u&&h.searchParams.set("apikey",u),s&&h.searchParams.set("zIndexBase",s),f&&h.searchParams.set("selector",f),r&&h.searchParams.set("draggableInvitation",r),o&&h.searchParams.set("windowPosition",o),l&&h.searchParams.set("mode",l),i&&h.searchParams.set("skipInit","true"),te.debug(`Loading chat sdk from ${h}`,{env:d}),await import(h.href)}}),t(me.ZvaSdk,{async load({draggableInvitation:r,windowPosition:o,zIndexBase:s,skipInit:i,version:a,entryId:c,apikey:u,mode:l,env:d,el:f}){const h=new URL(le(de[d],a,"chat-client-zva-v2.js"));return d&&h.searchParams.set("env",d),c&&h.searchParams.set("entryId",c),u&&h.searchParams.set("apikey",u),s&&h.searchParams.set("zIndexBase",s),f&&h.searchParams.set("selector",f),r&&h.searchParams.set("draggableInvitation",r),o&&h.searchParams.set("windowPosition",o),l&&h.searchParams.set("mode",l),i&&h.searchParams.set("skipInit","true"),te.debug(`Loading chat sdk from ${h}`,{env:d}),h.searchParams.set("zva","true"),await import(h.href)}}),t(me.WebCampaign,{async load({draggableInvitation:r,windowPosition:o,lazyLoadCampaignUrl:s,zIndexBase:i,version:a,entryId:c,apikey:u,env:l,fullScreenId:d}){const f=new URL(le(de[l],a,"web-campaign.js"));return l&&f.searchParams.set("env",l),u&&f.searchParams.set("apikey",u),i&&f.searchParams.set("zIndexBase",i),c&&f.searchParams.set("entryId",c),r&&f.searchParams.set("draggableInvitation",r),o&&f.searchParams.set("windowPosition",o),s&&f.searchParams.set("lazyLoadCampaignUrl",s),d&&f.searchParams.set("fullScreenId",d),te.debug(`Loading web campaign sdk from ${f}`,{env:l}),await import(f.href)}}),n.trigger.useLoader({useSdkLoader:t,logger:e().logger}),{async loadZccSdk(r,{v1:o=!1,env:s="us01",cdnEnv:i,version:a,...c}={}){var h,S,M;const u=r==="ZvaSdk";let l;try{l=new URLSearchParams(window.location.search).get("__zcc_version__")}catch(I){te.error("Failed to get test version",I)}r!=="WebCampaign"&&(u?await Br(s,c.entryId?c.entryId:c.apikey):await Vr(s,c.apikey));const d=((h=L==null?void 0:L.cdnZccVersion)==null?void 0:h.read())||((S=L==null?void 0:L.cdnVersion)==null?void 0:S.read()),f=(M=L==null?void 0:L.cdnZvaVersion)==null?void 0:M.read();a||((s==="dev"||s==="qa")&&(a=Wn),r!=="WebCampaign"&&(!u&&d&&(a=d),u&&f&&(a=f)),l&&(a=l));try{const I=new URL(le(de[s],a,"cross-storage.html"));te.start("Init iframe"),await lr(I.href),te.success("Init iframe")}catch(I){te.error("Failed to init iframe",I)}return window[Hn]=i||s,e().importSdk(me[r],{v1:o,env:s,version:a,...c})}}},[Zt]),Wr=Ce("Utils/DiscoverSdkPlugin").impl(e=>{const{loadZccSdk:t,logger:n}=e(),r=c=>{if(c==="zva"){const u=document.querySelector('script[data-apikey][data-chat-entry-id][data-product-module="zva"]');if(u){const{dataset:l}=u;return l}}else if(c==="chat"){const u=document.querySelector('script[data-apikey][data-chat-entry-id]:not([data-product-module="zva"])');if(u){const{dataset:l}=u;return l}}else{const u=document.querySelector('script:not([data-apikey])[src$="zcc-sdk.js"][data-chat-entry-id], script:not([data-apikey])[src$="chat-client.js"][data-chat-entry-id], script[data-apikey][src$="chat-client.js"]:not([data-chat-entry-id]), script[data-apikey][src$="zcc-sdk.js"]:not([data-chat-entry-id]), script[src$="chat-client.js"]:not([data-chat-entry-id]), script[src$="zcc-sdk.js"]:not([data-chat-entry-id])');if(u){const{dataset:l}=u;return l}}return null},o=()=>{const c=document.querySelector('script[data-apikey][src*=".zoom"]:not([data-chat-entry-id]):not([src$="chat-client.js"]):not([src$="zcc-sdk.js"]), script[data-entry-id][src*=".zoom"]');if(c){const{dataset:u}=c;return u}return null},s=c=>{switch(c){case"chat":case"zva":case"campaign":return r(c);case"video":return o();default:return null}},i=async()=>{["chat","zva","campaign"].forEach(async c=>{const u=on(s(c));if(u){n.info(`${c} sdk  discovered`);const l=Ct(u.get("env"))||"us01",d=u.get("chatEntryId"),f=u.get("productModule"),h=u.get("apikey"),S=u.get("zIndexBase"),M=u.get("draggableInvitation"),I=u.get("windowPosition"),k=u.get("el"),C=u.get("lazyLoadCampaignUrl"),V=u.get("fullScreenId")||"",J={env:l,entryId:d,apikey:h,zIndexBase:S,draggableInvitation:M,windowPosition:I,lazyLoadCampaignUrl:C,fullScreenId:V,zva:f==="zva"},N=J.zva?"ZvaSdk":"ZccSdk";d&&h?t(N,{...J,el:k}):t("WebCampaign",{...J})}})},a=async()=>{const c=on(s("video"));if(c){n.info("video sdk  discovered");const u=Ct(c.get("env"))||"us01",l=c.get("entryId"),d=c.get("apikey"),f=c.get("lazyLoadCampaignUrl"),h=c.get("draggableInvitation");t("VideoSdk",{env:u,entryId:l,apikey:d,draggableInvitation:h,lazyLoadCampaignUrl:f})}};return{discoverSdk:s,discover(){i(),a()}}},[Yr]);function on(e){if(e){const t=new Map;return Object.keys(e).forEach(n=>{t.set(n,e[n])}),t}return null}Nn.create("SdkLoader").info("Loaded");const Hr=[Zt,Wr];Ce.mixin(Hr,{name:"SdkLoader"}).discover()})();
